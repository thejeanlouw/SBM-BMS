{"version":3,"sources":["components/custom-button/custom-button.component.js","components/main-menu-buttons/main-menu-buttons.component.jsx","pages/main-page/main-page.component.jsx","firebase/firebase.utils.js","data/static/device.data.js","firebase/firebase.functions.js","pages/sign-in-page/sign-in-page.component.jsx","pages/link-page/link-page.component.jsx","components/device-list-item/device-list-item.component.jsx","components/form-input/form-input.component.jsx","components/device-details/device-details.component.jsx","pages/info-page/info-page.component.jsx","App.js","reportWebVitals.js","index.js"],"names":["CustomButton","children","otherProps","isGoogleSignIn","className","MainMenuButtons","to","MainPage","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","device","callback","a","deviceDetect","dev","geoUpdate","upd","geolocation","ua","getUA","window","navigator","getBattery","battery","isCharging","charging","timeUntilCharged","chargingTime","batteryLevel","level","timeUntilEmpty","dischargingTime","bluetooth","getAvailability","getCurrentPosition","Uuid","getUuid","rcc","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","addDeviceToUser","id","currentUser","userDeviceRef","doc","get","deviceSnapshot","email","ownerId","uid","firstAccessedAt","Date","lastAccessedAt","linkProperties","deviceInfo","exists","set","internalLink","linkAddress","console","log","message","update","updateDeviceLinkAddress","deviceId","updateDeviceDisplayName","getDeviceLink","changeHandler","onSnapshot","includeMetadataChanges","data","dat","ref","getUserDeviceList","deviceListRef","collection","where","snapShot","deviceList","empty","docs","forEach","push","change","createUserProfileDocument","userAuth","additionalData","userRef","displayName","phoneNumber","createdAt","signedAgreements","onboardedComplete","SignInPage","handleYes","then","val","user","props","history","handleNo","onClick","this","React","Component","withRouter","LinkPage","getLinkFromFireStore","getChangeFromFireStore","deviceData","setState","componentDidMount","state","url","src","title","width","height","allowFullScreen","allow","frameBorder","DeviceListItem","clickHandler","mainDisplayText","FormInput","handleChange","label","value","onChange","DeviceDetails","event","target","name","deviceInfoChange","handleSubmit","preventDefault","submitHandler","vendor","os","osVersion","model","onSubmit","type","InfoPage","devices","selectedDevice","onListChange","newList","onItemSelected","deviceDetails","handleInfoChange","devdeets","map","App","unsubscribeFromAuth","onAuthStateChanged","signOut","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0dASeA,G,MANM,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAA6BC,GAA/B,EAAYC,eAAZ,qDACnB,gDAAQC,UAAS,UAAKH,EAAL,mBAAmCC,GAApD,aACGD,O,gBCAU,SAASI,IACpB,OACI,sBAAKD,UAAU,oBAAf,UACI,cAAC,IAAD,CAAME,GAAG,IAAT,SACI,cAAC,EAAD,wBAEJ,cAAC,IAAD,CAAMA,GAAG,OAAT,SACI,cAAC,EAAD,yBAEJ,cAAC,IAAD,CAAMA,GAAG,SAAT,SACI,cAAC,EAAD,2B,MCXD,SAASC,IACpB,OACI,sBAAKH,UAAU,YAAf,UACI,sBAAMA,UAAU,SAAhB,uBACA,cAACC,EAAD,O,8BCOZG,IAASC,cAXM,CACXC,OAAQ,0CACRC,WAAY,+BACZC,YAAa,sCACbC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKZ,IAAMC,EAAOV,IAASU,OAChBC,EAAYX,IAASW,YACnBX,IAAf,E,kCCUeY,EAzBH,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,sEAGKC,yBAHL,cAGPC,EAHO,OAKLC,EAAY,SAACC,GACfF,EAAIG,YAAcD,GAGlBE,EAAKC,QATE,SAUWC,OAAOC,UAAUC,aAV5B,cAULC,EAVK,OAWXT,EAAIS,QAAU,CACVC,WAAU,OAAED,QAAF,IAAEA,OAAF,EAAEA,EAASE,SACrBC,iBAAgB,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAASI,aAC3BC,aAAY,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAASM,MACvBC,eAAc,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAASQ,iBAflB,UAiBWX,OAAOC,UAAUW,UAAUC,kBAjBtC,eAiBXnB,EAAIkB,UAjBO,iBAkBLZ,OAAOC,UAAUJ,YAAYiB,mBAAmBnB,GAlB3C,eAmBXD,EAAIqB,KAAOC,IAAQlB,GAnBR,6CAoBAJ,GAAOuB,MApBP,4CAAH,sDCDNC,EAAW,IAAIxC,EAASU,KAAK+B,mBAEtBC,EAAmB,kBAAMhC,EAAKiC,gBAAgBH,IAE9CI,EAAe,uCAAG,8CAAA9B,EAAA,sEAETF,IAFS,WAErBI,EAFqB,QAGpB6B,KAAI7B,EAAIqB,KAAKrB,EAAI6B,IAClBC,EAAcpC,EAAKoC,YAJE,oDAMnB,MAAL9B,GAAuB,MAAVA,EAAII,GANO,0DAQrB2B,EAAgBpC,EAAUqC,IAAV,sBAA6BhC,EAAIqB,OAR5B,UASEU,EAAcE,MAThB,WASrBC,EATqB,OAWpBC,EAASL,EAATK,MACDC,EAAUN,EAAYO,IACtBC,EAAkB,IAAIC,KACtBC,EAAiB,IAAID,MACN,EACD,6CACdE,EAAiB,GACjBC,EAAa1C,EAEfkC,EAAeS,OApBQ,4CAuBbZ,EAAca,IAAI,CACpBT,QACAC,UACAE,kBACAO,aAZS,MAaTC,YAZQ,6CAaRL,iBACAC,eA9Be,2DAiCnBK,QAAQC,IAAI,wBAAyB,KAAMC,SAjCxB,2DAqCblB,EAAcmB,OAAO,CACvBf,QACAC,UACAI,iBACAE,eAzCe,2DA4CnBK,QAAQC,IAAI,wBAAyB,KAAMC,SA5CxB,iCA+CpBlB,GA/CoB,mEAAH,qDAkDfoB,EAAuB,uCAAG,WAAOC,EAAUN,GAAjB,eAAAhD,EAAA,yDAC/BsD,EAD+B,wDAE7BrB,EAAgBpC,EAAUqC,IAAV,sBAA6BoB,IAFhB,SAGNrB,EAAcE,MAHR,cAKjBU,QACdZ,EAAcmB,OAAO,CACjB,YAAeJ,IAPY,2CAAH,wDAYvBO,EAAuB,uCAAG,WAAOD,EAAUN,GAAjB,eAAAhD,EAAA,yDAC/BsD,EAD+B,wDAE7BrB,EAAgBpC,EAAUqC,IAAV,sBAA6BoB,IAFhB,SAGNrB,EAAcE,MAHR,cAKjBU,QACdZ,EAAcmB,OAAO,CACjB,YAAeJ,IAPY,2CAAH,wDAYvBQ,EAAa,uCAAG,WAAOC,EAAeH,GAAtB,qBAAAtD,EAAA,sEAEPF,IAFO,WAEnBI,EAFmB,QAGlB6B,KAAI7B,EAAIqB,KAAMrB,EAAI6B,IACrB7B,EAAIqB,KAJiB,wDAKZ,MAAV+B,IACCpD,EAAIqB,KAAK+B,GAGPrB,EAAgBpC,EAAUqC,IAAV,sBAA6BhC,EAAIqB,OAT9B,UAWIU,EAAcE,MAXlB,aAWnBC,EAXmB,QAaPS,OAbO,wBAclBY,GACCxB,EAAcyB,WAAW,CAACC,wBAAwB,GAAMF,GAfvC,UAiBHrB,EAAewB,OAjBZ,eAiBfC,EAjBe,yBAkBd,CACH9B,GAAI7B,EAAIqB,KACRqC,KAAMC,EACNC,IAAK7B,IArBY,iCAuBlB,CACH2B,KAAM,CACN7B,GAAI,EACJiB,YAAa,iDACbL,eAAgB,MA3BK,4CAAH,wDAgCboB,EAAiB,uCAAG,WAAON,GAAP,qBAAAzD,EAAA,yDACvBgC,EAAcpC,EAAKoC,YACVpC,EACXoC,EAHyB,yCAGL,MAHK,cAIvBgC,EAAgBnE,EAAUoE,WAAW,eAAeC,MAAM,UAAU,KAAMlC,EAAYO,KAJ/D,SAKNyB,EAAc7B,MALR,cAKvBgC,EALuB,OAMvBC,EAAa,GAEfD,EAASE,QAETF,EAASG,KAAKC,SAAQ,SAACrC,GACnBkC,EAAWI,KAAX,aAAiBzC,GAAGG,EAAIH,GAAGQ,IAAIL,EAAIK,KAAOL,EAAI0B,YAE/CH,GAECO,EAAcN,YAAW,SAACe,GAEtBA,EAAOH,KAAKC,SAAQ,SAACrC,GACjBkC,EAAWI,KAAX,aAAiBzC,GAAGG,EAAIH,GAAGQ,IAAIL,EAAIK,KAAOL,EAAI0B,YAElDH,EAJmB,QAhBF,kBAwBtBW,GAxBsB,4CAAH,sDA4BjBM,EAAyB,uCAAG,WAAOC,EAAUC,GAAjB,qBAAA5E,EAAA,yDACjC2E,EADiC,wDAG/BE,EAAUhF,EAAUqC,IAAV,oBAA2ByC,EAASpC,MAHf,SAIdsC,EAAQ1C,MAJM,iBAKxBU,OALwB,wBAMzBiC,EAAmCH,EAAnCG,YAAazC,EAAsBsC,EAAtBtC,MAAsBsC,EAAfI,YACtBC,EAAW,IAAIvC,MACI,GACC,EATO,oBAYvBoC,EAAQ/B,IAAR,aACFgC,cACAzC,QACA2C,YACAC,iBARiB,MASjBC,kBARkB,OASfN,IAlBsB,2DAqB7B3B,QAAQC,IAAI,sBAAuB,KAAMC,SArBZ,iCAwB9B0B,GAxB8B,2DAAH,wD,OCvIhCM,E,4MAEFC,U,sBAAY,sBAAApF,EAAA,sDACR4B,IAAmByD,MAAK,SAACC,GAClBA,EAAIC,KACH,EAAKC,MAAMC,QAAQjB,KAAK,SACrB,EAAKgB,MAAMC,QAAQjB,KAAK,YAJ3B,2C,EAQZkB,SAAW,WACP,EAAKF,MAAMC,QAAQjB,KAAK,U,uDAI5B,OACI,sBAAK1F,UAAU,eAAf,UACI,sBAAMA,UAAU,YAAhB,0CACA,sBAAKA,UAAU,oBAAf,UACI,cAAC,EAAD,CAAc6G,QAASC,KAAKR,UAA5B,iBACA,cAAC,EAAD,CAAcO,QAASC,KAAKF,SAA5B,0B,GApBSG,IAAMC,WA0BhBC,cAAWZ,GC5BLa,G,wDAEjB,WAAYR,GAAO,IAAD,8BACd,cAAMA,IAMVS,qBAPkB,sBAOK,4BAAAjG,EAAA,sEAEMwD,EAAc,EAAK0C,wBAFzB,OAEbC,EAFa,OAInB,EAAKC,SAAS,CAACtG,OAAQqG,IAJJ,2CAPL,EAclBD,uBAdkB,uCAcO,WAAOzB,GAAP,SAAAzE,EAAA,sDAGrB,EAAKoG,SAAS,CAACtG,OAAQ,CACnB8D,KAAMa,EAAOb,OACb7B,GAAI0C,EAAO1C,MALM,2CAdP,wDAsBlBsE,kBAtBkB,sBAsBC,sBAAArG,EAAA,sDACf,EAAKiG,uBADU,2CApBf,EAAKK,MAAQ,CACTxG,OAAQ,MAHE,E,qDA0BT,IACEA,EAAU8F,KAAKU,MAAfxG,OACHkD,EAAc,GAClB,OAAY,MAARlD,GAA+B,MAAbA,EAAO8D,MAAyC,MAAzB9D,EAAO8D,KAAKZ,aACrDA,EAAclD,EAAO8D,KAAKZ,YAC1BC,QAAQC,IAAI,iBAAkBF,EAA9B,UAA8CA,IAE1C,qBAAKlE,UAAU,SAAf,SACI,wBAAQA,UAAU,QAAQiD,GAAIjC,EAAOiC,GAAIwE,IAAKvD,EAAawD,IAAKxD,EAChEyD,MAAM,GACNC,MAAM,OACNC,OAAO,OACPC,iBAAe,EACfC,MAAM,2FACNC,YAAY,SAMhB,8BACI,iD,GAjDkBjB,IAAMC,YCqB7BiB,G,MAtBQ,SAAC,GAA4B,IAA3BjH,EAA0B,EAA1BA,OAAQkH,EAAkB,EAAlBA,aACzBC,EAAe,SAChBnH,EAAOgF,YACNmC,EAAkBnH,EAAOgF,YACnBhF,EAAOiC,KACbkF,EAAkBnH,EAAOiC,IAQ7B,OACI,qBAAKjD,UAAU,mBAAmC6G,QANzB,WAEzBqB,EAAalH,EAAOiC,KAIpB,SACI,oBAAIjD,UAAU,eAAd,SACKmI,KAF8BnH,EAAOiC,MCHvCmF,G,MAXG,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAcC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,MAAUzI,EAAjC,uDACd,sBAAKE,UAAU,QAAf,UACI,mCAAOA,UAAU,aAAauI,MAAOA,EAAOC,SAAUH,GAAkBvI,IACvEwI,EACD,uBAAOtI,UAAS,UAAKuI,EAAQ,SAAW,GAAxB,qBAAhB,SACSD,IAER,UCLYG,G,wDAEjB,WAAY/B,GAAO,IAAD,8BACd,cAAMA,IAMV2B,aAPkB,uCAOH,WAAMK,GAAN,qBAAAxH,EAAA,wDACWwH,EAAMC,OAArBC,EADI,EACJA,KAAML,EADF,EACEA,OACPM,EAAmB,EAAKrB,MAAM1D,YACnBgB,KAAK8D,GAAQL,EAC9B,EAAKjB,SAAS,CAACxD,WAAW+E,IAJf,2CAPG,wDAclBC,aAdkB,uCAcH,WAAMJ,GAAN,SAAAxH,EAAA,sDACXwH,EAAMK,iBACF,EAAKrC,MAAMsC,eACX,EAAKtC,MAAMsC,cAAc,EAAKxB,MAAM1D,YAH7B,2CAdG,sDAEd,EAAK0D,MAAQ,CACT1D,WAAY,EAAK4C,MAAM1F,QAHb,E,qDAqBR,IAAD,MAC8B8F,KAAKU,MAAM1D,WAAWgB,KAAlDZ,EADF,EACEA,YAAa8B,EADf,EACeA,YACpB,aAAGc,KAAKU,MAAM1D,kBAAd,iBAAG,EAAuBgB,YAA1B,aAAG,EAA6BhB,WAChC,CAAC,IAAD,EAC2CgD,KAAKU,MAAM1D,WAAWgB,KAAKhB,WAA3DmF,EADX,EACWA,OAAQC,EADnB,EACmBA,GAAIC,EADvB,EACuBA,UAAWC,EADlC,EACkCA,MAC9B,OACI,sBAAKpJ,UAAU,cAAf,UACI,sBAAMA,UAAU,SAAhB,0BACA,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAMA,UAAU,aAAhB,oBACA,sBAAMA,UAAU,eAAhB,SAAgCiJ,OAEpC,sBAAKjJ,UAAU,gBAAf,UACI,sBAAMA,UAAU,aAAhB,gBACA,sBAAMA,UAAU,eAAhB,SAAgCkJ,OAEpC,sBAAKlJ,UAAU,gBAAf,UACI,sBAAMA,UAAU,aAAhB,wBACA,sBAAMA,UAAU,eAAhB,SAAgCmJ,OAEpC,sBAAKnJ,UAAU,gBAAf,UACI,sBAAMA,UAAU,aAAhB,mBACA,sBAAMA,UAAU,eAAhB,SAAgCoJ,UAGxC,uBAAMpJ,UAAU,iBAAiBqJ,SAAUvC,KAAKgC,aAAhD,UACI,cAAC,EAAD,CAAWP,MAAOvC,EAAa4C,KAAK,cAAcP,aAAcvB,KAAKuB,aAAcC,MAAM,iBACzF,cAAC,EAAD,CAAWC,MAAOrE,EAAa0E,KAAK,cAAcP,aAAcvB,KAAKuB,aAAcC,MAAM,iBACzF,cAAC,EAAD,CAAcgB,KAAK,SAAnB,0BAIT,OAAO,S,GAxDqBtC,cCGrCuC,G,kNAEF/B,MAAQ,CACJgC,QAAS,KACTC,eAAgB,M,EAmBpBC,a,uCAAe,WAAOC,GAAP,SAAAzI,EAAA,sDACRyI,GACH,EAAKrC,SAAS,CAACkC,QAAQG,IAFZ,2C,wDAKfC,e,uCAAiB,WAAOpF,GAAP,eAAAtD,EAAA,sEACewD,EAAc,KAAMF,GADnC,OACPqF,EADO,OAEb,EAAKvC,SAAS,CAACmC,eAAgBI,IAFlB,2C,wDAKjBC,iB,uCAAmB,WAAOhG,GAAP,SAAA5C,EAAA,sEACTqD,EAAwBT,EAAWb,GAAIa,EAAWgB,KAAKZ,aAD9C,uBAETO,EAAwBX,EAAWb,GAAIa,EAAWgB,KAAKkB,aAF9C,OAGff,EAAkB,MAAMsB,MAAK,SAACC,GAC1B,IAAMlB,EAAakB,EACflB,EAGJ,EAAKgC,SAAS,CAACkC,QAASlE,IAFpB,EAAKoB,MAAMC,QAAQjB,KAAK,aANjB,2C,wHA1BC,IAAD,OACfT,EAAkB,MAAMsB,MAAK,SAACC,GAC1B,IAAMlB,EAAakB,EACflB,EAGJ,EAAKgC,SAAS,CAACkC,QAASlE,IAFpB,EAAKoB,MAAMC,QAAQjB,KAAK,aAMhChB,IAAgB6B,MAAK,SAACwD,GAClB,EAAKzC,SAAS,CAACmC,eAAgBM,S,+BA4B7B,IAAD,OACL,OACI,sBAAK/J,UAAU,YAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,qBAAf,yBACA,qBAAKA,UAAU,cAAf,SACC8G,KAAKU,MAAMgC,QAAU1C,KAAKU,MAAMgC,QAAQQ,KAAI,SAAChJ,GAAD,OACzC,cAAC,EAAD,CAAgBA,OAAQA,EAAQkH,aAAc,EAAK0B,gBAAqB5I,EAAOiC,OAC9E,OAEL,qBAAKjD,UAAU,YAAf,SACI,cAAC,IAAD,CAAME,GAAG,OAAT,4BAKR,qBAAKF,UAAU,UAAf,SACK8G,KAAKU,MAAMiC,eACZ,cAAC,EAAD,CAAezI,OAAQ8F,KAAKU,MAAMiC,eAAgBT,cAAelC,KAAKgD,kBAAuBhD,KAAKU,MAAMiC,eAAexG,IACtH,c,GAjEE+D,cAwERC,cAAWsC,GCdXU,E,kDAnDb,aAAc,IAAD,8BACX,gBAHFC,oBAAsB,KAIpB,EAAK1C,MAAQ,CACXtE,YAAa,MAHJ,E,gEAOO,IAAD,OACjB4D,KAAKoD,oBAAsBpJ,EAAKqJ,mBAAL,+BAAAjJ,EAAA,MAAwB,WAAM2E,GAAN,eAAA3E,EAAA,0DAC9C2E,EAD8C,wBAG/C1B,QAAQC,IAAI,aAAcyB,GAHqB,SAIzBD,EAA0BC,GAJD,cAIzCE,EAJyC,gBAKvB/C,IALuB,cAM/C+C,EAAQnB,YAAW,SAAAS,GAEjB,EAAKiC,SAAS,CAACpE,YAAY,aAEvBD,GAAIoC,EAASpC,IACVoC,EAASP,UAGf,kBAAKX,QAAQC,IAAI,gBAAgB,EAAKoD,MAAMtE,mBAdA,QAiBjD,EAAKoE,SAAS,CAACpE,YAAa2C,IAjBqB,4CAAxB,yD,6CAsB3BiB,KAAKQ,SAAS,CAACpE,YAAa,OAC5B4D,KAAKoD,sBACLpJ,EAAKsJ,Y,+BAKP,OACE,qBAAKpK,UAAU,MAAf,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqK,KAAK,UAAUC,UAAWjE,IACjC,cAAC,IAAD,CAAOgE,KAAK,QAAQC,UAAWf,IAC/B,cAAC,IAAD,CAAOc,KAAK,QAAQC,UAAWpD,IAC/B,cAAC,IAAD,CAAOmD,KAAK,IAAIC,UAAWnK,e,GAhDnB4G,IAAMC,WCCTuD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlE,MAAK,YAAkD,IAA/CmE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.845cee50.chunk.js","sourcesContent":["import React from 'react';\nimport styles from './custom-button.styles.scss';\n\nconst CustomButton = ({children, isGoogleSignIn, ...otherProps}) => (\n  <button className={`${children} custom-button`} {...otherProps}>\n    {children}\n  </button>\n);\n\nexport default CustomButton;\n","import React from 'react'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\nimport './main-menu-buttons.styles.css'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default function MainMenuButtons() {\r\n    return (\r\n        <div className='main-menu-buttons'>\r\n            <Link to='/'>\r\n                <CustomButton>Welcome</CustomButton>\r\n            </Link>\r\n            <Link to='link'>\r\n                <CustomButton>Showcase</CustomButton>\r\n            </Link>\r\n            <Link to='signin'>\r\n                <CustomButton>Sign-In</CustomButton>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MainMenuButtons from '../../components/main-menu-buttons/main-menu-buttons.component'\r\nimport './main-page.styles.css'\r\n\r\nexport default function MainPage() {\r\n    return (\r\n        <div className='main-page'>\r\n            <span className='header'>SMB | BMS</span>\r\n            <MainMenuButtons />\r\n        </div>\r\n    )\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyA8CE6cmO3e84VpfChKyM44KDe28bn5OMk\",\r\n    authDomain: \"parangelmata.firebaseapp.com\",\r\n    databaseURL: \"https://parangelmata.firebaseio.com\",\r\n    projectId: \"parangelmata\",\r\n    storageBucket: \"parangelmata.appspot.com\",\r\n    messagingSenderId: \"824823048409\",\r\n    appId: \"1:824823048409:web:3e241472d3babc2c3576c8\",\r\n    measurementId: \"G-09Q8GHTRFZ\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport default firebase;","import rcc, { deviceDetect, getUA} from 'react-device-detect'\r\n\r\nimport getUuid from 'uuid-by-string'\r\n\r\nconst device = async (callback) => {\r\n\r\n\r\n    var dev = await deviceDetect();\r\n\r\n    const geoUpdate = (upd) => {\r\n        dev.geolocation = upd;\r\n    }\r\n    \r\n    var ua = getUA;\r\n    const battery = await window.navigator.getBattery();\r\n    dev.battery = {\r\n        isCharging: battery?.charging,\r\n        timeUntilCharged: battery?.chargingTime,\r\n        batteryLevel: battery?.level,\r\n        timeUntilEmpty: battery?.dischargingTime,\r\n    }\r\n    dev.bluetooth = await window.navigator.bluetooth.getAvailability();\r\n    await window.navigator.geolocation.getCurrentPosition(geoUpdate);\r\n    dev.Uuid = getUuid(ua);\r\n    return {...dev,...rcc};\r\n}\r\n\r\n\r\n\r\nexport default device;","import firebase, {auth, firestore} from './firebase.utils'\r\nimport device from '../data/static/device.data'\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\r\n\r\nexport const addDeviceToUser = async () => {\r\n    debugger;\r\n    const dev = await device();\r\n    if(dev.id) dev.Uuid=dev.id;\r\n    const currentUser = auth.currentUser;\r\n    if(!currentUser) return;\r\n    if(dev==null || dev.ua == null) return;\r\n    \r\n    const userDeviceRef = firestore.doc(`smb-devices/${dev.Uuid}`);\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n\r\n    const {email} = currentUser;\r\n    const ownerId = currentUser.uid;\r\n    const firstAccessedAt = new Date();\r\n    const lastAccessedAt = new Date(); \r\n    const internalLink = false;\r\n    const linkAddress = 'https://www.parangelmata.com/plans-pricing';\r\n    const linkProperties = {};\r\n    const deviceInfo = dev;\r\n\r\n    if(!deviceSnapshot.exists)\r\n    {\r\n        try {\r\n            await userDeviceRef.set({\r\n                email,\r\n                ownerId,\r\n                firstAccessedAt,\r\n                internalLink,\r\n                linkAddress,\r\n                linkProperties,\r\n                deviceInfo\r\n            });\r\n        } catch (error) {\r\n            console.log('ERROR CREATING DEVICE', error.message);\r\n        } \r\n    } else {\r\n        try {\r\n            await userDeviceRef.update({\r\n                email,\r\n                ownerId,\r\n                lastAccessedAt,\r\n                deviceInfo\r\n            });\r\n        } catch (error) {\r\n            console.log('ERROR UPDATING DEVICE', error.message);\r\n        } \r\n    }\r\n    return userDeviceRef; \r\n}\r\n\r\nexport const updateDeviceLinkAddress = async (deviceId, linkAddress) => {\r\n    if(!deviceId) return;\r\n    const userDeviceRef = firestore.doc(`smb-devices/${deviceId}`);\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n\r\n    if(deviceSnapshot.exists){\r\n        userDeviceRef.update({\r\n            'linkAddress': linkAddress \r\n        });\r\n    }\r\n}\r\n\r\nexport const updateDeviceDisplayName = async (deviceId, linkAddress) => {\r\n    if(!deviceId) return;\r\n    const userDeviceRef = firestore.doc(`smb-devices/${deviceId}`);\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n\r\n    if(deviceSnapshot.exists){\r\n        userDeviceRef.update({\r\n            'displayName': linkAddress \r\n        });\r\n    }\r\n}\r\n\r\nexport const getDeviceLink = async (changeHandler, deviceId) =>{\r\n    debugger;\r\n    const dev = await device();\r\n    if(dev.id) dev.Uuid= dev.id;\r\n    if(!dev.Uuid) return;\r\n    if(deviceId!=null){\r\n        dev.Uuid=deviceId\r\n    };\r\n\r\n    const userDeviceRef = firestore.doc(`smb-devices/${dev.Uuid}`);\r\n\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n\r\n    if(deviceSnapshot.exists){\r\n        if(changeHandler){\r\n            userDeviceRef.onSnapshot({includeMetadataChanges: true},changeHandler)\r\n        }\r\n        const dat = await deviceSnapshot.data();\r\n        return {\r\n            id: dev.Uuid,\r\n            data: dat,\r\n            ref: userDeviceRef}\r\n    } else\r\n    return {\r\n        data: {\r\n        id: 0,\r\n        linkAddress: 'https://thejeanlouw.github.io/super-media-bros',\r\n        linkProperties: {}\r\n        }\r\n    };\r\n}\r\n\r\nexport const getUserDeviceList = async (changeHandler) => {\r\n    const currentUser = auth.currentUser;\r\n    const myAuth = auth;\r\n    if(!currentUser) return null;\r\n    const deviceListRef = firestore.collection('smb-devices').where('ownerId','==', currentUser.uid);\r\n    const snapShot = await deviceListRef.get();\r\n    const deviceList = [];\r\n    debugger;\r\n    if(!snapShot.empty)\r\n    {\r\n        snapShot.docs.forEach((doc)=>{\r\n            deviceList.push({id:doc.id,uid:doc.uid,...doc.data()});\r\n        });\r\n        if(changeHandler)\r\n        {\r\n            deviceListRef.onSnapshot((change)=>{\r\n                const changeList = [];\r\n                change.docs.forEach((doc)=>{\r\n                    deviceList.push({id:doc.id,uid:doc.uid,...doc.data()});\r\n                });\r\n                changeHandler(changeList);\r\n            })\r\n        }\r\n    }\r\n    return deviceList;\r\n}\r\n\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n    if(!userAuth) return;              \r\n    debugger                             \r\n    const userRef = firestore.doc(`smb-users/${userAuth.uid}`);\r\n    const snapShot = await userRef.get();\r\n    if(!snapShot.exists){\r\n        const { displayName, email, phoneNumber} = userAuth;\r\n        const createdAt= new Date();\r\n        const signedAgreements = false;\r\n        const onboardedComplete = false;\r\n\r\n        try {\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                createdAt,\r\n                signedAgreements,\r\n                onboardedComplete,\r\n                ...additionalData\r\n            });\r\n        } catch (error) {\r\n            console.log('ERROR CREATING USER', error.message);\r\n        }\r\n    }\r\n    return userRef;\r\n}","import React from 'react'\r\nimport CustomButton from '../../components/custom-button/custom-button.component'\r\nimport './sign-in-page.styles.scss'\r\nimport {signInWithGoogle} from '../../firebase/firebase.functions'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass SignInPage extends React.Component {\r\n\r\n    handleYes = async () =>{\r\n        signInWithGoogle().then((val)=>{\r\n            if(val.user){\r\n                this.props.history.push('/info');\r\n            } else this.props.history.push('/link')})\r\n        \r\n    }\r\n\r\n    handleNo = () => {\r\n        this.props.history.push('/link')\r\n    }\r\n\r\n    render(){\r\n    return (\r\n        <div className='sign-in-page'>\r\n            <span className='main-text'>IS THIS THE MANAGING DEVICE?</span>\r\n            <div className='yes-or-no-buttons'>\r\n                <CustomButton onClick={this.handleYes}>Yes</CustomButton>\r\n                <CustomButton onClick={this.handleNo}>No</CustomButton>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default withRouter(SignInPage);","import React from 'react'\r\nimport {getDeviceLink} from '../../firebase/firebase.functions'\r\nimport './link-page.styles.scss'\r\n\r\nexport default class LinkPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            device: null\r\n        }\r\n    }\r\n\r\n    getLinkFromFireStore = async () =>\r\n    {\r\n        const deviceData = await getDeviceLink(this.getChangeFromFireStore);\r\n        debugger;\r\n        this.setState({device: deviceData});\r\n    }\r\n\r\n    getChangeFromFireStore = async (change) =>\r\n    {\r\n        debugger;\r\n        this.setState({device: {\r\n            data: change.data(),\r\n            id: change.id}});\r\n    }\r\n\r\n    componentDidMount= async () =>{\r\n        this.getLinkFromFireStore();\r\n    }\r\n\r\n    render(){\r\n        const {device} = this.state;\r\n        let linkAddress = '';\r\n        if((device!=null) && (device.data!=null) && (device.data.linkAddress!=null)) {\r\n            linkAddress = device.data.linkAddress;\r\n            console.log(\"link address: \", linkAddress, `${linkAddress}`)\r\n            return (\r\n                <div className='iframe'>\r\n                    <iframe className='frame' id={device.id} url={linkAddress} src={linkAddress}\r\n                    title=\"\"\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    allowFullScreen\r\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                    frameBorder=\"0\"\r\n                    /> \r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <span>NO LINK</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\nimport './device-list-item.styles.scss'\r\n\r\nconst DeviceListItem = ({device, clickHandler}) => {\r\n    let mainDisplayText = `Device`;\r\n    if(device.displayName){\r\n        mainDisplayText = device.displayName;\r\n    } else if(device.id){\r\n        mainDisplayText = device.id;\r\n    }\r\n\r\n    const internalClickHandler = () =>\r\n    {\r\n        clickHandler(device.id);\r\n    }\r\n\r\n    return (\r\n        <div className='device-list-item' key={device.id} onClick={internalClickHandler}>\r\n            <h3 className='display-name'>\r\n                {mainDisplayText}\r\n            </h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeviceListItem;\r\n","import React from 'react';\r\nimport './form-input.styles.scss';\r\n\r\nconst FormInput = ({handleChange, label, value, ...otherProps}) => (\r\n    <div className='group'>\r\n        <input className='form-input' value={value} onChange={handleChange} {...otherProps}/>\r\n        {label?\r\n        <label className={`${value ? 'shrink' : ''} form-input-label`} >\r\n                {label}\r\n            </label>\r\n        :null}\r\n    </div>\r\n)\r\n\r\nexport default FormInput;","import React, { Component } from 'react'\r\nimport FormInput from '../form-input/form-input.component'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\nimport './device-details.styles.scss'\r\n\r\nexport default class DeviceDetails extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            deviceInfo: this.props.device\r\n        }\r\n    }   \r\n\r\n    handleChange = async event =>{\r\n        const {name, value} = event.target;\r\n        const deviceInfoChange = this.state.deviceInfo;\r\n        deviceInfoChange.data[name] = value;\r\n        this.setState({deviceInfo:deviceInfoChange});\r\n    }\r\n\r\n    handleSubmit = async event =>{\r\n        event.preventDefault();\r\n        if (this.props.submitHandler){\r\n            this.props.submitHandler(this.state.deviceInfo);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {linkAddress, displayName} = this.state.deviceInfo.data;\r\n        if(this.state.deviceInfo?.data?.deviceInfo)\r\n        {\r\n            const {vendor, os, osVersion, model} = this.state.deviceInfo.data.deviceInfo;\r\n            return (\r\n                <div className='device-info'>\r\n                    <span className='header'>Device Info:</span>\r\n                    <div className='all-details'>\r\n                        <div className='details-group'>\r\n                            <span className='detailName'>Vendor</span>\r\n                            <span className='detail-value'>{vendor}</span>\r\n                        </div>\r\n                        <div className='details-group'>\r\n                            <span className='detailName'>OS</span>\r\n                            <span className='detail-value'>{os}</span>\r\n                        </div>\r\n                        <div className='details-group'>\r\n                            <span className='detailName'>OS Version</span>\r\n                            <span className='detail-value'>{osVersion}</span>\r\n                        </div>\r\n                        <div className='details-group'>\r\n                            <span className='detailName'>Model</span>\r\n                            <span className='detail-value'>{model}</span>\r\n                        </div>\r\n                    </div>\r\n                    <form className='device-changes' onSubmit={this.handleSubmit}>\r\n                        <FormInput value={displayName} name='displayName' handleChange={this.handleChange} label='Display Name' />\r\n                        <FormInput value={linkAddress} name='linkAddress' handleChange={this.handleChange} label='Link Address' />\r\n                        <CustomButton type='submit'>Submit</CustomButton>\r\n                    </form>\r\n                </div>\r\n            )\r\n        } else return null;\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {getUserDeviceList, getDeviceLink, updateDeviceLinkAddress, updateDeviceDisplayName} from '../../firebase/firebase.functions'\r\nimport {withRouter, Link} from 'react-router-dom'\r\nimport DeviceListItem from '../../components/device-list-item/device-list-item.component';\r\nimport DeviceDetails from '../../components/device-details/device-details.component';\r\nimport device from '../../data/static/device.data';\r\nimport './info-page.styles.scss';\r\n\r\nclass InfoPage extends Component {\r\n\r\n    state = {\r\n        devices: null,\r\n        selectedDevice: null\r\n    }\r\n\r\n    componentDidMount(){\r\n        getUserDeviceList(null).then((val)=>{\r\n            const deviceList = val;\r\n            if(!deviceList){\r\n                this.props.history.push('signin');\r\n            } else {\r\n            this.setState({devices: deviceList});\r\n            }\r\n        });\r\n\r\n        getDeviceLink().then((devdeets)=>{\r\n            this.setState({selectedDevice: devdeets});\r\n        });\r\n\r\n    }\r\n\r\n    onListChange = async (newList) =>{\r\n        if(newList){\r\n        this.setState({devices:newList});}\r\n    }\r\n\r\n    onItemSelected = async (deviceId) => {\r\n        const deviceDetails = await getDeviceLink(null, deviceId);\r\n        this.setState({selectedDevice: deviceDetails});\r\n    }\r\n\r\n    handleInfoChange = async (deviceInfo) => {\r\n        await updateDeviceLinkAddress(deviceInfo.id, deviceInfo.data.linkAddress);\r\n        await updateDeviceDisplayName(deviceInfo.id, deviceInfo.data.displayName);\r\n        getUserDeviceList(null).then((val)=>{\r\n            const deviceList = val;\r\n            if(!deviceList){\r\n                this.props.history.push('signin');\r\n            } else {\r\n            this.setState({devices: deviceList});\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='info-page'>\r\n                <div className='device-list'>\r\n                    <div className='device-list-header'>Device List</div>\r\n                    <div className='all-devices'>\r\n                    {this.state.devices ? this.state.devices.map((device)=>(\r\n                        <DeviceListItem device={device} clickHandler={this.onItemSelected} key={device.id} />\r\n                    )) : null}\r\n                    </div>\r\n                    <div className='link-page'>\r\n                        <Link to='link'>\r\n                        LINK PAGE\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div className='details'>\r\n                    {this.state.selectedDevice? \r\n                    <DeviceDetails device={this.state.selectedDevice} submitHandler={this.handleInfoChange} key={this.state.selectedDevice.id} />\r\n                    :null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(InfoPage);","import './App.css';\nimport MainPage from './pages/main-page/main-page.component'\nimport SignInPage from './pages/sign-in-page/sign-in-page.component'\nimport {HashRouter, Route, Switch} from 'react-router-dom'\nimport { auth } from './firebase/firebase.utils'\nimport { createUserProfileDocument, addDeviceToUser } from './firebase/firebase.functions'\nimport React from 'react'\nimport LinkPage from './pages/link-page/link-page.component';\nimport InfoPage from './pages/info-page/info-page.component';\n\n\nclass App extends React.Component {\n\n  unsubscribeFromAuth = null;\n\n  constructor(){\n    super();\n    this.state = {\n      currentUser: null,\n    }\n  }\n\n  componentDidMount(){\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if(userAuth){\n        debugger;\n        console.log(\"userAuth: \", userAuth);\n        const userRef = await createUserProfileDocument(userAuth);\n        const deviceRef = await addDeviceToUser();\n        userRef.onSnapshot(snapShot => {\n\n          this.setState({currentUser: \n            {\n              id: snapShot.id,\n              ...snapShot.data()\n            }\n          }\n          ,()=>(console.log(\"currentUser: \",this.state.currentUser)));\n        });\n      }\n      this.setState({currentUser: userAuth});\n    });\n  }\n  \n  componentWillUnmount(){\n    this.setState({currentUser: null})\n    this.unsubscribeFromAuth();\n    auth.signOut();\n  }\n\n\n  render(){\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Switch>\n          <Route path='/signin' component={SignInPage} />\n          <Route path='/info' component={InfoPage} />\n          <Route path='/link' component={LinkPage}/>\n          <Route path='/' component={MainPage} />\n        </Switch>\n      </HashRouter>\n    </div>\n  );}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}