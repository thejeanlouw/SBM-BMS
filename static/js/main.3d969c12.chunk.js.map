{"version":3,"sources":["components/custom-button/custom-button.component.js","components/main-menu-buttons/main-menu-buttons.component.jsx","pages/main-page/main-page.component.jsx","firebase/firebase.utils.js","firebase/firebase.functions.js","pages/sign-in-page/sign-in-page.component.jsx","pages/link-page/link-page.component.jsx","App.js","reportWebVitals.js","index.js"],"names":["CustomButton","children","otherProps","isGoogleSignIn","className","MainMenuButtons","to","MainPage","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","getUuid","require","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","getDeviceLink","deviceInfo","a","deviceId","ua","userDeviceRef","doc","get","deviceSnapshot","exists","data","dat","id","reg","linkAddress","linkProperties","createUserProfileDocument","userAuth","additionalData","userRef","uid","displayName","email","phoneNumber","createdAt","Date","set","signedAgreements","onboardedComplete","console","log","message","ownerId","firstAccessedAt","internalLink","SignInPage","handleYes","then","val","props","history","push","handleNo","onClick","this","React","Component","withRouter","LinkPage","componentDidMount","device","deviceDetect","deviceData","setState","state","url","width","height","App","unsubscribeFromAuth","currentUser","onAuthStateChanged","onSnapshot","snapShot","signOut","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d969c12.chunk.js","sourcesContent":["import React from 'react';\nimport styles from './custom-button.styles.scss';\n\nconst CustomButton = ({children, isGoogleSignIn, ...otherProps}) => (\n  <button className={`${children} custom-button`} {...otherProps}>\n    {children}\n  </button>\n);\n\nexport default CustomButton;\n","import React from 'react'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\nimport './main-menu-buttons.styles.css'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default function MainMenuButtons() {\r\n    return (\r\n        <div className='main-menu-buttons'>\r\n            <Link to='/'>\r\n                <CustomButton>Welcome</CustomButton>\r\n            </Link>\r\n            <Link to='showcase'>\r\n                <CustomButton>Showcase</CustomButton>\r\n            </Link>\r\n            <Link to='sign-in'>\r\n                <CustomButton>Sign-In</CustomButton>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MainMenuButtons from '../../components/main-menu-buttons/main-menu-buttons.component'\r\nimport './main-page.styles.css'\r\n\r\nexport default function MainPage() {\r\n    return (\r\n        <div className='main-page'>\r\n            <span className='header'>SMB | BMS</span>\r\n            <MainMenuButtons />\r\n        </div>\r\n    )\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyA8CE6cmO3e84VpfChKyM44KDe28bn5OMk\",\r\n    authDomain: \"parangelmata.firebaseapp.com\",\r\n    databaseURL: \"https://parangelmata.firebaseio.com\",\r\n    projectId: \"parangelmata\",\r\n    storageBucket: \"parangelmata.appspot.com\",\r\n    messagingSenderId: \"824823048409\",\r\n    appId: \"1:824823048409:web:3e241472d3babc2c3576c8\",\r\n    measurementId: \"G-09Q8GHTRFZ\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport default firebase;","import firebase, {auth, firestore} from './firebase.utils'\r\nconst getUuid = require('uuid-by-string')\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\r\n\r\nexport const getDeviceLink = async (deviceInfo) =>{\r\n    if(!deviceInfo) return;\r\n    const deviceId = getUuid(`${(deviceInfo.ua)}`);\r\n    const userDeviceRef = firestore.doc(`smb-devices/${deviceId}`);\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n    if(deviceSnapshot.exists){\r\n        const dat = await deviceSnapshot.data();\r\n        return {\r\n            id: deviceId,\r\n            data: dat,\r\n            reg: userDeviceRef}\r\n    } else\r\n    return {\r\n        data: {\r\n        id: 0,\r\n        linkAddress: 'https://thejeanlouw.github.io/super-media-bros',\r\n        linkProperties: {}\r\n        }\r\n    };\r\n}\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n    if(!userAuth) return;                                           \r\n    const userRef = firestore.doc(`smb-users/${userAuth.uid}`);\r\n    const snapShot = await userRef.get();\r\n    \r\n    if(!snapShot.exists){\r\n        const { displayName, email, phoneNumber} = userAuth;\r\n        const createdAt= new Date();\r\n        const signedAgreements = false;\r\n        const onboardedComplete = false;\r\n\r\n        try {\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                createdAt,\r\n                signedAgreements,\r\n                onboardedComplete,\r\n                ...additionalData\r\n            });\r\n        } catch (error) {\r\n            console.log('ERROR CREATING USER', error.message);\r\n        }\r\n    }\r\n\r\n    if(additionalData==null || \r\n       additionalData.ua == null) return userRef;\r\n    const deviceId = getUuid(`${(additionalData.ua)}`);\r\n    \r\n    const userDeviceRef = firestore.doc(`smb-devices/${deviceId}`);\r\n    const deviceSnapshot = await userDeviceRef.get();\r\n    if(!deviceSnapshot.exists)\r\n    {\r\n        const {email} = userAuth;\r\n        const ownerId = userAuth.uid;\r\n        const firstAccessedAt = new Date();\r\n        const internalLink = false;\r\n        const linkAddress = 'https://www.parangelmata.com/plans-pricing';\r\n        const linkProperties = {};\r\n        const deviceInfo = additionalData;\r\n\r\n        try {\r\n            await userDeviceRef.set({\r\n                email,\r\n                ownerId,\r\n                firstAccessedAt,\r\n                internalLink,\r\n                linkAddress,\r\n                linkProperties,\r\n                deviceInfo\r\n            });\r\n        } catch (error) {\r\n            console.log('ERROR CREATING DEVICE', error.message);\r\n        } \r\n    }\r\n\r\n    return userRef;\r\n\r\n}","import React from 'react'\r\nimport CustomButton from '../../components/custom-button/custom-button.component'\r\nimport './sign-in-page.styles.scss'\r\nimport {signInWithGoogle} from '../../firebase/firebase.functions'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass SignInPage extends React.Component {\r\n\r\n    handleYes = async () =>{\r\n        signInWithGoogle().then((val)=>{console.log(val);this.props.history.push('/link-page');})\r\n        \r\n    }\r\n\r\n    handleNo = () => {\r\n        this.props.history.push('/link-page')\r\n    }\r\n\r\n    render(){\r\n    return (\r\n        <div className='sign-in-page'>\r\n            <span className='main-text'>IS THIS THE MANAGING DEVICE?</span>\r\n            <div className='yes-or-no-buttons'>\r\n                <CustomButton onClick={this.handleYes}>Yes</CustomButton>\r\n                <CustomButton onClick={this.handleNo}>No</CustomButton>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default withRouter(SignInPage);","import React from 'react'\r\nimport IFrame from 'react-iframe'\r\nimport {deviceDetect} from 'react-device-detect'\r\nimport {getDeviceLink} from '../../firebase/firebase.functions'\r\nimport './link-page.styles.scss'\r\n\r\nexport default class LinkPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            device: null\r\n        }\r\n    }\r\n\r\n    componentDidMount= async () =>{\r\n        const device = deviceDetect();\r\n        const deviceData = await getDeviceLink(device);\r\n        this.setState({device: deviceData}, () => {console.log(this.state)});\r\n    }\r\n\r\n    render(){\r\n        const {device} = this.state;\r\n        let linkAddress = '';\r\n        if((device!=null) && (device.data!=null) && (device.data.linkAddress!=null)) {\r\n            linkAddress = device.data.linkAddress;\r\n            return (\r\n                <div className='iframe'>\r\n                    <IFrame className='frame' id={device.id} url={`${linkAddress}`} \r\n                    width=\"100%\"\r\n                    height=\"100%\"/> \r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <span>NO LINK</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import './App.css';\nimport MainPage from './pages/main-page/main-page.component'\nimport SignInPage from './pages/sign-in-page/sign-in-page.component'\nimport {HashRouter, Route, Switch} from 'react-router-dom'\nimport {deviceDetect} from 'react-device-detect'\nimport { auth } from './firebase/firebase.utils'\nimport { createUserProfileDocument } from './firebase/firebase.functions'\nimport React from 'react'\nimport LinkPage from './pages/link-page/link-page.component';\n\n\nclass App extends React.Component {\n\n  unsubscribeFromAuth = null;\n\n  constructor(){\n    super();\n    this.state = {\n      currentUser: null,\n    }\n  }\n\n  componentDidMount(){\n    const deviceInfo = deviceDetect();\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if(userAuth){\n        const userRef = await createUserProfileDocument(userAuth, deviceInfo);\n        console.log(\"userAuth: \", userAuth);\n        userRef.onSnapshot(snapShot => {\n\n          this.setState({currentUser: \n            {\n              id: snapShot.id,\n              ...snapShot.data\n            },\n            device: deviceInfo\n          }\n          ,()=>(console.log(\"currentUser: \",this.state.currentUser)));\n        });\n      }\n      this.setState({currentUser: userAuth});\n    });\n  }\n  \n  componentWillUnmount(){\n    this.unsubscribeFromAuth();\n    auth.signOut();\n  }\n\n\n  render(){\n  return (\n    <div className=\"App\">\n      <Switch>\n          <Route path='/sign-in' component={SignInPage} />\n          <Route path='/info-page' component={MainPage} />\n          <Route path='/link-page' component={LinkPage}/>\n          <Route path='/' component={MainPage} />\n        </Switch>\n    </div>\n  );}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}